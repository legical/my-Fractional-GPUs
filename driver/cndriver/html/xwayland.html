<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 1 September 2005), see www.w3.org">
<meta http-equiv="Content-Type" content=
"text/html; charset=us-ascii">
<title>Chapter&nbsp;39.&nbsp;OpenGL and Vulkan on Xwayland</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title=
"NVIDIA Accelerated Linux Graphics Driver README and Installation Guide">
<link rel="up" href="installationandconfiguration.html" title=
"Part&nbsp;I.&nbsp;Installation and Configuration Instructions">
<link rel="prev" href="ngx.html" title="Chapter&nbsp;38.&nbsp;NGX">
<link rel="next" href="gbm.html" title=
"Chapter&nbsp;40.&nbsp;GBM and GBM-based Wayland Compositors">
</head>
<body>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">Chapter&nbsp;39.&nbsp;OpenGL and
Vulkan on Xwayland</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href=
"ngx.html">Prev</a>&nbsp;</td>
<th width="60%" align="center">Part&nbsp;I.&nbsp;Installation and
Configuration Instructions</th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href=
"gbm.html">Next</a></td>
</tr>
</table>
<hr></div>
<div class="chapter" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="xwayland" id=
"xwayland"></a>Chapter&nbsp;39.&nbsp;OpenGL and Vulkan on
Xwayland</h2>
</div>
</div>
</div>
<h3>Overview</h3>
<p>Xwayland is an X11 server implemented as a Wayland client,
allowing one to run X11 applications on a Wayland desktop in a
relatively seamless fashion. The NVIDIA driver is able to
facilitate accelerated 3D rendering for such applications, but
there are some particular considerations compared to a typical X11
configuration which are outlined in this chapter.</p>
<p>Note that some NVIDIA driver features may not be available, see
<a href="wayland-issues.html" title=
"Appendix&nbsp;L.&nbsp;Wayland Known Issues">Appendix&nbsp;L,
<i>Wayland Known Issues</i></a> for details.</p>
<h3>Requirements</h3>
<p>The following are necessary to enable accelerated rendering on
Xwayland with the NVIDIA driver:</p>
<div class="itemizedlist">
<ul type="disc">
<li>
<p>DRM KMS must be enabled. See <a href="kms.html" title=
"Chapter&nbsp;36.&nbsp;Direct Rendering Manager Kernel Modesetting (DRM KMS)">
Chapter&nbsp;36, <i>Direct Rendering Manager Kernel Modesetting
(DRM KMS)</i></a> for details.</p>
</li>
<li>
<p>The installed copy of Xwayland should be a build from the master
branch of <a href="https://gitlab.freedesktop.org/xorg/xserver"
target="_top">https://gitlab.freedesktop.org/xorg/xserver</a> at
least as recent as commit c468d34c. Note that if this requirement
is not satisfied, the NVIDIA GPU can still be used for rendering,
however it will fall back to a suboptimal path for presentation
resulting in degraded performance.</p>
</li>
<li>
<p>libxcb version 1.13 or later must be present.</p>
</li>
<li>
<p>egl-wayland version 1.1.7 or later must be present (if installed
separately from the the NVIDIA driver).</p>
</li>
<li>
<p>If using the GNOME desktop environment, kms-modifiers must be
enabled through gsettings. This can be done with the following
command <strong class="userinput"><code>gsettings set
org.gnome.mutter experimental-features
[\"kms-modifiers\"]</code></strong></p>
</li>
</ul>
</div>
<p></p>
<h3>Reporting Issues</h3>
<p>The Wayland desktop relies on the close interaction of several
components to function correctly. Because of this, it can be tricky
to determine exactly which one is responsible for a suspected
bug.</p>
<div class="itemizedlist">
<ul type="disc">
<li>
<p>If the issue only reproduces on NVIDIA hardware with the
proprietary driver, see <a href="addtlresources.html" title=
"Chapter&nbsp;45.&nbsp;NVIDIA Contact Info and Additional Resources">
Chapter&nbsp;45, <i>NVIDIA Contact Info and Additional
Resources</i></a> for links to the appropriate channels to report
the bug to us.</p>
</li>
<li>
<p>If the issue only reproduces with a particular compositor, it
can be reported on that project's bug tracker, for example:</p>
<div class="itemizedlist">
<ul type="circle">
<li>
<p><a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/"
target="_top">https://gitlab.gnome.org/GNOME/mutter/-/issues/</a>
for GNOME</p>
</li>
<li>
<p><a href="https://bugs.kde.org/" target=
"_top">https://bugs.kde.org/</a> for KDE</p>
</li>
</ul>
</div>
<p></p>
</li>
<li>
<p>If the issue is specific to X11 applications running on
Xwayland, it can be reported on the X.org xserver issue tracker
<a href="https://gitlab.freedesktop.org/xorg/xserver/-/issues"
target=
"_top">https://gitlab.freedesktop.org/xorg/xserver/-/issues</a>.</p>
</li>
</ul>
</div>
<p></p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href=
"ngx.html">Prev</a>&nbsp;</td>
<td width="20%" align="center"><a accesskey="u" href=
"installationandconfiguration.html">Up</a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href=
"gbm.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">
Chapter&nbsp;38.&nbsp;NGX&nbsp;</td>
<td width="20%" align="center"><a accesskey="h" href=
"index.html">Home</a></td>
<td width="40%" align="right" valign="top">
&nbsp;Chapter&nbsp;40.&nbsp;GBM and GBM-based Wayland
Compositors</td>
</tr>
</table>
</div>
</body>
</html>
